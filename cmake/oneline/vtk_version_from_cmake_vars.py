import sys; import re; cmake_filename = sys.argv[1]; cmake_file = open(cmake_filename, 'r'); cmake_vars_regex = r'(set\s*\()([^\s]+)\s*([^)]+)'; vars = dict(list(map(lambda varline: (re.search(cmake_vars_regex, varline).group(2), re.search(cmake_vars_regex, varline).group(3)), filter(lambda line: line.startswith('set('), cmake_file.read().split('\n'))))); major_version = vars['VTK_MAJOR_VERSION']; minor_version = vars['VTK_MINOR_VERSION']; build_version = vars['VTK_BUILD_VERSION']; print(f'{major_version}.{minor_version}.{build_version}')